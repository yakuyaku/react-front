{"openapi":"3.1.0","info":{"title":"사용자 관리 API","description":"FastAPI 사용자, 게시글, 파일, 코멘트 Backend 시스템","version":"1.0.0"},"paths":{"/api/auth/dev-token":{"get":{"tags":["auth"],"summary":"Get Dev Token","description":"개발 전용 고정 토큰 반환\n\n⚠️ 개발 환경에서만 사용 가능","operationId":"get_dev_token_api_auth_dev_token_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/auth/login":{"post":{"tags":["auth"],"summary":"Login","description":"로그인\n\n- **email**: 이메일 주소\n- **password**: 비밀번호\n\n성공 시 JWT Access Token을 반환합니다.","operationId":"login_api_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/me":{"get":{"tags":["auth"],"summary":"Get Me","description":"현재 로그인한 사용자 정보 조회\n\nJWT 토큰이 필요합니다.","operationId":"get_me_api_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/auth/logout":{"post":{"tags":["auth"],"summary":"Logout","description":"로그아웃\n\n클라이언트에서 토큰을 삭제하도록 안내합니다.","operationId":"logout_api_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/users/":{"post":{"tags":["users"],"summary":"Create User","description":"사용자 생성 (회원가입) - 공개 API\n\n인증 불필요 (회원가입용)\n\n- **email**: 이메일 주소 (unique)\n- **username**: 사용자명 (unique, 3-50자, 영문/숫자/_/- 만 가능)\n- **password**: 비밀번호 (8-100자, 영문+숫자 필수)\n- **is_admin**: 관리자 여부 (기본값: false)","operationId":"create_user_api_users__post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["users"],"summary":"Get Users","description":"사용자 목록 조회 - 관리자 전용\n\n**인증 필요**: Bearer Token (관리자)","operationId":"get_users_api_users__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"페이지 번호","default":1,"title":"Page"},"description":"페이지 번호"},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"페이지당 항목 수","default":10,"title":"Page Size"},"description":"페이지당 항목 수"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"검색어 (username 또는 email)","title":"Search"},"description":"검색어 (username 또는 email)"},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"활성 상태 필터","title":"Is Active"},"description":"활성 상태 필터"},{"name":"is_admin","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"관리자 필터","title":"Is Admin"},"description":"관리자 필터"},{"name":"sort_by","in":"query","required":false,"schema":{"type":"string","description":"정렬 기준 (id, username, email, created_at)","default":"created_at","title":"Sort By"},"description":"정렬 기준 (id, username, email, created_at)"},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","pattern":"^(asc|desc)$","description":"정렬 순서","default":"desc","title":"Sort Order"},"description":"정렬 순서"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/{user_id}":{"get":{"tags":["users"],"summary":"Get User","description":"특정 사용자 조회\n\n**인증 필요**: Bearer Token\n- 본인 정보는 누구나 조회 가능\n- 타인 정보는 관리자만 조회 가능\n\n- **user_id**: 사용자 ID","operationId":"get_user_api_users__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["users"],"summary":"Update User","description":"사용자 정보 전체 수정 (PUT)\n\n**인증 필요**: Bearer Token\n- 본인 정보는 누구나 수정 가능\n- 타인 정보는 관리자만 수정 가능\n- is_admin 변경은 관리자만 가능\n\n- **user_id**: 수정할 사용자 ID\n- **email**: 새 이메일 (선택)\n- **username**: 새 사용자명 (선택)\n- **password**: 새 비밀번호 (선택)\n- **is_admin**: 관리자 여부 (선택, 관리자만)\n\n모든 필드가 선택사항이지만, 최소 1개 이상의 필드를 제공해야 합니다.","operationId":"update_user_api_users__user_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["users"],"summary":"Partial Update User","description":"사용자 정보 부분 수정 (PATCH)\n\n**인증 필요**: Bearer Token\n- 본인 정보는 누구나 수정 가능\n- 타인 정보는 관리자만 수정 가능\n\n- **user_id**: 수정할 사용자 ID\n- **email**: 새 이메일 (선택)\n- **username**: 새 사용자명 (선택)\n- **password**: 새 비밀번호 (선택)\n- **is_admin**: 관리자 여부 (선택, 관리자만)\n\n제공된 필드만 수정됩니다.","operationId":"partial_update_user_api_users__user_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["users"],"summary":"Delete User","description":"사용자 삭제 (Hard Delete) - 관리자 전용\n\n**인증 필요**: Bearer Token (관리자)\n\n- **user_id**: 삭제할 사용자 ID\n\n주의: 실제 삭제되며 복구할 수 없습니다.","operationId":"delete_user_api_users__user_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDeleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/{user_id}/deactivate":{"patch":{"tags":["users"],"summary":"Deactivate User","description":"사용자 비활성화 (Soft Delete) - 관리자 전용\n\n**인증 필요**: Bearer Token (관리자)\n\n- **user_id**: 비활성화할 사용자 ID\n\n사용자를 비활성화하며, 복구 가능합니다.","operationId":"deactivate_user_api_users__user_id__deactivate_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSoftDeleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/{user_id}/restore":{"patch":{"tags":["users"],"summary":"Restore User","description":"사용자 복구 (Soft Delete 취소) - 관리자 전용\n\n**인증 필요**: Bearer Token (관리자)\n\n- **user_id**: 복구할 사용자 ID","operationId":"restore_user_api_users__user_id__restore_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/posts/":{"post":{"tags":["posts","posts"],"summary":"Create Post","description":"게시글 작성\n\n**인증 필요**: Bearer Token\n\n- **title**: 게시글 제목 (1-200자)\n- **content**: 게시글 내용 (필수)\n- **is_pinned**: 고정 게시글 여부 (관리자 전용, 기본값: false)","operationId":"create_post_api_v1_posts__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["posts","posts"],"summary":"Get Posts","description":"게시글 목록 조회\n\n**인증**: 선택 (로그인 없이도 조회 가능, 삭제된 게시글 조회는 관리자 필요)\n\n- 고정 게시글이 항상 상단에 표시됩니다\n- 삭제된 게시글은 기본적으로 제외됩니다","operationId":"get_posts_api_v1_posts__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"페이지 번호","default":1,"title":"Page"},"description":"페이지 번호"},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"페이지당 항목 수","default":10,"title":"Page Size"},"description":"페이지당 항목 수"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"검색어 (제목 또는 내용)","title":"Search"},"description":"검색어 (제목 또는 내용)"},{"name":"author_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"작성자 ID 필터","title":"Author Id"},"description":"작성자 ID 필터"},{"name":"is_pinned","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"고정 게시글 필터","title":"Is Pinned"},"description":"고정 게시글 필터"},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","description":"삭제된 게시글 포함 (관리자 전용)","default":false,"title":"Include Deleted"},"description":"삭제된 게시글 포함 (관리자 전용)"},{"name":"sort_by","in":"query","required":false,"schema":{"type":"string","description":"정렬 기준 (id, title, created_at, view_count, like_count)","default":"created_at","title":"Sort By"},"description":"정렬 기준 (id, title, created_at, view_count, like_count)"},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","pattern":"^(asc|desc)$","description":"정렬 순서","default":"desc","title":"Sort Order"},"description":"정렬 순서"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/posts/{post_id}":{"get":{"tags":["posts","posts"],"summary":"Get Post","description":"특정 게시글 조회 (작성자 정보 포함)\n\n**인증**: 선택 (삭제된 게시글 조회는 관리자 필요)\n\n- **post_id**: 게시글 ID\n- **increment_view**: 조회수 증가 여부 (기본값: true)\n\n조회수가 자동으로 증가합니다 (선택 가능)","operationId":"get_post_api_v1_posts__post_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"post_id","in":"path","required":true,"schema":{"type":"integer","title":"Post Id"}},{"name":"increment_view","in":"query","required":false,"schema":{"type":"boolean","description":"조회수 증가 여부","default":true,"title":"Increment View"},"description":"조회수 증가 여부"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["posts","posts"],"summary":"Update Post","description":"게시글 전체 수정 (PUT)\n\n**인증 필요**: Bearer Token\n- 본인이 작성한 게시글만 수정 가능\n- 관리자는 모든 게시글 수정 가능\n- 잠긴 게시글은 관리자만 수정 가능\n- 고정/잠금 설정은 관리자만 변경 가능\n\n- **post_id**: 수정할 게시글 ID\n- **title**: 새 제목 (선택)\n- **content**: 새 내용 (선택)\n- **is_pinned**: 고정 여부 (선택, 관리자 전용)\n- **is_locked**: 잠금 여부 (선택, 관리자 전용)","operationId":"update_post_api_v1_posts__post_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"post_id","in":"path","required":true,"schema":{"type":"integer","title":"Post Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostUpdateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["posts","posts"],"summary":"Partial Update Post","description":"게시글 부분 수정 (PATCH)\n\n**인증 필요**: Bearer Token\n- 본인이 작성한 게시글만 수정 가능\n- 관리자는 모든 게시글 수정 가능\n\n제공된 필드만 수정됩니다.","operationId":"partial_update_post_api_v1_posts__post_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"post_id","in":"path","required":true,"schema":{"type":"integer","title":"Post Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostUpdateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["posts","posts"],"summary":"Delete Post","description":"게시글 삭제\n\n**인증 필요**: Bearer Token\n- 본인이 작성한 게시글만 삭제 가능\n- 관리자는 모든 게시글 삭제 가능\n\n- **post_id**: 삭제할 게시글 ID\n- **hard_delete**: Hard Delete 여부 (기본값: false, 관리자 전용)\n\n기본적으로 Soft Delete(is_deleted=1)되며, hard_delete=true인 경우 완전 삭제됩니다 (관리자 전용).","operationId":"delete_post_api_v1_posts__post_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"post_id","in":"path","required":true,"schema":{"type":"integer","title":"Post Id"}},{"name":"hard_delete","in":"query","required":false,"schema":{"type":"boolean","description":"Hard Delete 여부 (관리자 전용)","default":false,"title":"Hard Delete"},"description":"Hard Delete 여부 (관리자 전용)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostDeleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/posts/{post_id}/restore":{"patch":{"tags":["posts","posts"],"summary":"Restore Post","description":"삭제된 게시글 복구 - 관리자 전용\n\n**인증 필요**: Bearer Token (관리자)\n\n- **post_id**: 복구할 게시글 ID","operationId":"restore_post_api_v1_posts__post_id__restore_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"post_id","in":"path","required":true,"schema":{"type":"integer","title":"Post Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostRestoreResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/posts/{post_id}/pin":{"patch":{"tags":["posts","posts"],"summary":"Toggle Pin","description":"게시글 고정/고정 해제 - 관리자 전용\n\n**인증 필요**: Bearer Token (관리자)\n\n- **post_id**: 게시글 ID\n\n고정 상태를 토글합니다 (고정 ↔ 해제)","operationId":"toggle_pin_api_v1_posts__post_id__pin_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"post_id","in":"path","required":true,"schema":{"type":"integer","title":"Post Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostTogglePinResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/posts/{post_id}/lock":{"patch":{"tags":["posts","posts"],"summary":"Toggle Lock","description":"게시글 잠금/잠금 해제 - 관리자 전용\n\n**인증 필요**: Bearer Token (관리자)\n\n- **post_id**: 게시글 ID\n\n잠금 상태를 토글합니다 (잠금 ↔ 해제)\n잠긴 게시글은 관리자만 수정할 수 있습니다.","operationId":"toggle_lock_api_v1_posts__post_id__lock_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"post_id","in":"path","required":true,"schema":{"type":"integer","title":"Post Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostToggleLockResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/posts/{post_id}/like":{"post":{"tags":["posts","posts"],"summary":"Like Post","description":"게시글 좋아요\n\n**인증**: 불필요 (누구나 가능)\n\n- **post_id**: 게시글 ID\n\n좋아요 수가 1 증가합니다.","operationId":"like_post_api_v1_posts__post_id__like_post","parameters":[{"name":"post_id","in":"path","required":true,"schema":{"type":"integer","title":"Post Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostLikeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["posts","posts"],"summary":"Unlike Post","description":"게시글 좋아요 취소\n\n**인증**: 불필요 (누구나 가능)\n\n- **post_id**: 게시글 ID\n\n좋아요 수가 1 감소합니다 (최소 0).","operationId":"unlike_post_api_v1_posts__post_id__like_delete","parameters":[{"name":"post_id","in":"path","required":true,"schema":{"type":"integer","title":"Post Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostLikeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/files/upload":{"post":{"tags":["files","files"],"summary":"Upload File","description":"파일 업로드\n\n**인증 필요**: Bearer Token\n\n- **file**: 업로드할 파일\n- **is_public**: 공개 파일 여부 (기본값: true)\n- **is_temp**: 임시 파일 여부 (기본값: true, 24시간 후 자동 삭제)\n\n지원 파일:\n- 이미지: jpg, png, gif, webp, bmp, svg\n- 문서: pdf, doc, docx, xls, xlsx, ppt, pptx, txt\n- 압축: zip, rar, 7z\n- 동영상: mp4, avi, mov\n\n크기 제한:\n- 이미지: 10MB\n- 문서: 50MB","operationId":"upload_file_api_v1_files_upload_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"is_public","in":"query","required":false,"schema":{"type":"boolean","description":"공개 파일 여부","default":true,"title":"Is Public"},"description":"공개 파일 여부"},{"name":"is_temp","in":"query","required":false,"schema":{"type":"boolean","description":"임시 파일 여부 (24시간 후 자동 삭제)","default":true,"title":"Is Temp"},"description":"임시 파일 여부 (24시간 후 자동 삭제)"}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_file_api_v1_files_upload_post"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileUploadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/files/posts/{post_id}/attach":{"post":{"tags":["files","files"],"summary":"Attach Files To Post","description":"게시글에 파일 첨부\n\n**인증 필요**: Bearer Token\n\n- **post_id**: 게시글 ID\n- **file_ids**: 첨부할 파일 ID 목록 (최대 10개)\n\n첨부 시:\n- 임시 파일에서 정식 파일로 전환됩니다\n- 첫 번째 이미지가 자동으로 썸네일로 설정됩니다","operationId":"attach_files_to_post_api_v1_files_posts__post_id__attach_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"post_id","in":"path","required":true,"schema":{"type":"integer","title":"Post Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttachFilesRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttachFilesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/files/posts/{post_id}/attachments":{"get":{"tags":["files","files"],"summary":"Get Post Attachments","description":"게시글의 첨부파일 목록 조회\n\n**인증**: 불필요\n\n- **post_id**: 게시글 ID\n\nReturns:\n    첨부파일 목록 (파일 정보 포함)","operationId":"get_post_attachments_api_v1_files_posts__post_id__attachments_get","parameters":[{"name":"post_id","in":"path","required":true,"schema":{"type":"integer","title":"Post Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PostAttachmentResponse"},"title":"Response Get Post Attachments Api V1 Files Posts  Post Id  Attachments Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/files/{file_id}/download":{"get":{"tags":["files","files"],"summary":"Download File","description":"파일 다운로드\n\n**인증**: 선택 (비공개 파일은 권한 필요)\n\n- **file_id**: 파일 ID\n\n공개 파일은 누구나 다운로드 가능하며, 비공개 파일은 업로더 본인 또는 관리자만 다운로드 가능합니다.","operationId":"download_file_api_v1_files__file_id__download_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"file_id","in":"path","required":true,"schema":{"type":"integer","title":"File Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/files/{file_id}":{"get":{"tags":["files","files"],"summary":"Get File Info","description":"파일 정보 조회\n\n**인증**: 선택\n\n- **file_id**: 파일 ID\n\nReturns:\n    파일 상세 정보","operationId":"get_file_info_api_v1_files__file_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"file_id","in":"path","required":true,"schema":{"type":"integer","title":"File Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["files","files"],"summary":"Delete File","description":"파일 삭제\n\n**인증 필요**: Bearer Token\n\n- **file_id**: 파일 ID\n- **hard_delete**: 완전 삭제 여부 (기본값: false)\n\n기본적으로 Soft Delete되며, hard_delete=true인 경우 실제 파일도 삭제됩니다.\n본인이 업로드한 파일 또는 관리자만 삭제 가능합니다.","operationId":"delete_file_api_v1_files__file_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"file_id","in":"path","required":true,"schema":{"type":"integer","title":"File Id"}},{"name":"hard_delete","in":"query","required":false,"schema":{"type":"boolean","description":"완전 삭제 여부","default":false,"title":"Hard Delete"},"description":"완전 삭제 여부"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileDeleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/files/cleanup-temp":{"post":{"tags":["files","files"],"summary":"Cleanup Expired Temp Files","description":"만료된 임시 파일 정리 - 관리자 전용\n\n**인증 필요**: Bearer Token (관리자)\n\n24시간 이상 지난 임시 파일을 삭제합니다.","operationId":"cleanup_expired_temp_files_api_v1_files_cleanup_temp_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/comments/posts/{post_id}":{"post":{"tags":["comments","comments"],"summary":"Create Comment","description":"댓글 작성\n\n**인증 필요**: Bearer Token\n\n- **post_id**: 게시글 ID\n- **content**: 댓글 내용 (1-1000자)\n- **parent_id**: 부모 댓글 ID (대댓글인 경우, 선택)\n\nTree 구조:\n- 최상위 댓글: parent_id = None, depth = 0\n- 1차 대댓글: parent_id = 상위댓글ID, depth = 1\n- 2차 대댓글: parent_id = 1차댓글ID, depth = 2\n- 최대 깊이: 3 (0, 1, 2, 3)","operationId":"create_comment_api_v1_comments_posts__post_id__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"post_id","in":"path","required":true,"schema":{"type":"integer","title":"Post Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/comments/posts/{post_id}/flat":{"get":{"tags":["comments","comments"],"summary":"Get Post Comments Flat","description":"게시글의 댓글 목록 조회 (Flat 구조)\n\n**인증**: 불필요\n\n- **post_id**: 게시글 ID\n- **include_deleted**: 삭제된 댓글 포함 여부 (기본값: false)\n\nReturns:\n    Flat 구조의 댓글 리스트 (path 순서로 정렬)","operationId":"get_post_comments_flat_api_v1_comments_posts__post_id__flat_get","parameters":[{"name":"post_id","in":"path","required":true,"schema":{"type":"integer","title":"Post Id"}},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","description":"삭제된 댓글 포함 (관리자 전용)","default":false,"title":"Include Deleted"},"description":"삭제된 댓글 포함 (관리자 전용)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/comments/posts/{post_id}/tree":{"get":{"tags":["comments","comments"],"summary":"Get Post Comments Tree","description":"게시글의 댓글 목록 조회 (Tree 구조)\n\n**인증**: 불필요\n\n- **post_id**: 게시글 ID\n- **include_deleted**: 삭제된 댓글 포함 여부 (기본값: false)\n\nReturns:\n    Tree 구조의 댓글 리스트 (children에 자식 댓글 포함)","operationId":"get_post_comments_tree_api_v1_comments_posts__post_id__tree_get","parameters":[{"name":"post_id","in":"path","required":true,"schema":{"type":"integer","title":"Post Id"}},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","description":"삭제된 댓글 포함 (관리자 전용)","default":false,"title":"Include Deleted"},"description":"삭제된 댓글 포함 (관리자 전용)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentTreeListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/comments/{comment_id}":{"get":{"tags":["comments","comments"],"summary":"Get Comment","description":"특정 댓글 조회\n\n**인증**: 불필요\n\n- **comment_id**: 댓글 ID\n\nReturns:\n    댓글 상세 정보","operationId":"get_comment_api_v1_comments__comment_id__get","parameters":[{"name":"comment_id","in":"path","required":true,"schema":{"type":"integer","title":"Comment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["comments","comments"],"summary":"Update Comment","description":"댓글 수정\n\n**인증 필요**: Bearer Token\n- 본인이 작성한 댓글만 수정 가능\n- 관리자는 모든 댓글 수정 가능\n\n- **comment_id**: 댓글 ID\n- **content**: 새 댓글 내용","operationId":"update_comment_api_v1_comments__comment_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"comment_id","in":"path","required":true,"schema":{"type":"integer","title":"Comment Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentUpdateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["comments","comments"],"summary":"Partial Update Comment","description":"댓글 부분 수정 (PATCH)\n\n**인증 필요**: Bearer Token\n\nPUT과 동일한 동작 (댓글은 content만 수정 가능)","operationId":"partial_update_comment_api_v1_comments__comment_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"comment_id","in":"path","required":true,"schema":{"type":"integer","title":"Comment Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentUpdateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["comments","comments"],"summary":"Delete Comment","description":"댓글 삭제\n\n**인증 필요**: Bearer Token\n- 본인이 작성한 댓글만 삭제 가능\n- 관리자는 모든 댓글 삭제 가능\n\n- **comment_id**: 댓글 ID\n- **hard_delete**: Hard Delete 여부 (기본값: false, 관리자 전용)\n\nSoft Delete (기본):\n- content를 \"삭제된 댓글입니다\"로 변경\n- is_deleted = 1\n\nHard Delete (관리자):\n- 실제 삭제 (CASCADE로 자식 댓글도 삭제됨)","operationId":"delete_comment_api_v1_comments__comment_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"comment_id","in":"path","required":true,"schema":{"type":"integer","title":"Comment Id"}},{"name":"hard_delete","in":"query","required":false,"schema":{"type":"boolean","description":"Hard Delete 여부 (관리자 전용)","default":false,"title":"Hard Delete"},"description":"Hard Delete 여부 (관리자 전용)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentDeleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/comments/{comment_id}/restore":{"patch":{"tags":["comments","comments"],"summary":"Restore Comment","description":"삭제된 댓글 복구 - 관리자 전용\n\n**인증 필요**: Bearer Token (관리자)\n\n- **comment_id**: 댓글 ID\n\n주의: 내용은 \"삭제된 댓글입니다\"로 남아있습니다.","operationId":"restore_comment_api_v1_comments__comment_id__restore_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"comment_id","in":"path","required":true,"schema":{"type":"integer","title":"Comment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","description":"루트 엔드포인트","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","description":"헬스 체크","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/dev-info":{"get":{"summary":"Dev Info","description":"개발 환경 정보 (개발 환경에서만)","operationId":"dev_info_dev_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AttachFilesRequest":{"properties":{"file_ids":{"items":{"type":"integer"},"type":"array","maxItems":10,"minItems":1,"title":"File Ids","description":"첨부할 파일 ID 목록 (최대 10개)"}},"type":"object","required":["file_ids"],"title":"AttachFilesRequest","description":"파일 첨부 요청 스키마"},"AttachFilesResponse":{"properties":{"post_id":{"type":"integer","title":"Post Id"},"attached_count":{"type":"integer","title":"Attached Count"},"attachments":{"items":{"$ref":"#/components/schemas/PostAttachmentResponse"},"type":"array","title":"Attachments"},"message":{"type":"string","title":"Message","default":"파일이 게시글에 첨부되었습니다"}},"type":"object","required":["post_id","attached_count","attachments"],"title":"AttachFilesResponse","description":"파일 첨부 응답 스키마"},"Body_upload_file_api_v1_files_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_file_api_v1_files_upload_post"},"CommentCreate":{"properties":{"content":{"type":"string","maxLength":1000,"minLength":1,"title":"Content","description":"댓글 내용"},"parent_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Parent Id","description":"부모 댓글 ID (대댓글인 경우)"}},"type":"object","required":["content"],"title":"CommentCreate","description":"댓글 생성 요청 스키마"},"CommentCreateResponse":{"properties":{"id":{"type":"integer","title":"Id"},"post_id":{"type":"integer","title":"Post Id"},"parent_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Parent Id"},"content":{"type":"string","title":"Content"},"depth":{"type":"integer","title":"Depth"},"path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Path"},"author_id":{"type":"integer","title":"Author Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"message":{"type":"string","title":"Message","default":"댓글이 성공적으로 작성되었습니다"}},"type":"object","required":["id","post_id","content","depth","author_id","created_at"],"title":"CommentCreateResponse","description":"댓글 생성 응답 스키마"},"CommentDeleteResponse":{"properties":{"id":{"type":"integer","title":"Id"},"message":{"type":"string","title":"Message","default":"댓글이 성공적으로 삭제되었습니다"}},"type":"object","required":["id"],"title":"CommentDeleteResponse","description":"댓글 삭제 응답 스키마"},"CommentListResponse":{"properties":{"comments":{"items":{"$ref":"#/components/schemas/CommentResponse"},"type":"array","title":"Comments","description":"댓글 목록"},"total":{"type":"integer","title":"Total","description":"전체 댓글 수"},"post_id":{"type":"integer","title":"Post Id","description":"게시글 ID"}},"type":"object","required":["comments","total","post_id"],"title":"CommentListResponse","description":"댓글 목록 응답 스키마 (Flat)"},"CommentResponse":{"properties":{"id":{"type":"integer","title":"Id"},"post_id":{"type":"integer","title":"Post Id"},"parent_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Parent Id"},"author_id":{"type":"integer","title":"Author Id"},"content":{"type":"string","title":"Content"},"depth":{"type":"integer","title":"Depth"},"path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Path"},"order_num":{"type":"integer","title":"Order Num"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"is_deleted":{"type":"boolean","title":"Is Deleted"},"author_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author Username"},"author_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author Email"},"children":{"anyOf":[{"items":{"$ref":"#/components/schemas/CommentResponse"},"type":"array"},{"type":"null"}],"title":"Children"}},"type":"object","required":["id","post_id","author_id","content","depth","order_num","created_at","is_deleted"],"title":"CommentResponse","description":"댓글 응답 스키마 (단일)"},"CommentTreeListResponse":{"properties":{"comments":{"items":{"$ref":"#/components/schemas/CommentTreeResponse"},"type":"array","title":"Comments","description":"댓글 트리"},"total":{"type":"integer","title":"Total","description":"전체 댓글 수"},"post_id":{"type":"integer","title":"Post Id","description":"게시글 ID"}},"type":"object","required":["comments","total","post_id"],"title":"CommentTreeListResponse","description":"댓글 목록 응답 스키마 (Tree)"},"CommentTreeResponse":{"properties":{"id":{"type":"integer","title":"Id"},"post_id":{"type":"integer","title":"Post Id"},"parent_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Parent Id"},"author_id":{"type":"integer","title":"Author Id"},"content":{"type":"string","title":"Content"},"depth":{"type":"integer","title":"Depth"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"is_deleted":{"type":"boolean","title":"Is Deleted"},"author_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author Username"},"children":{"items":{"$ref":"#/components/schemas/CommentTreeResponse"},"type":"array","title":"Children"}},"type":"object","required":["id","post_id","author_id","content","depth","created_at","is_deleted"],"title":"CommentTreeResponse","description":"댓글 Tree 응답 스키마"},"CommentUpdate":{"properties":{"content":{"type":"string","maxLength":1000,"minLength":1,"title":"Content","description":"댓글 내용"}},"type":"object","required":["content"],"title":"CommentUpdate","description":"댓글 수정 요청 스키마"},"CommentUpdateResponse":{"properties":{"id":{"type":"integer","title":"Id"},"content":{"type":"string","title":"Content"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"message":{"type":"string","title":"Message","default":"댓글이 성공적으로 수정되었습니다"}},"type":"object","required":["id","content","updated_at"],"title":"CommentUpdateResponse","description":"댓글 수정 응답 스키마"},"FileDeleteResponse":{"properties":{"id":{"type":"integer","title":"Id"},"original_filename":{"type":"string","title":"Original Filename"},"message":{"type":"string","title":"Message","default":"파일이 삭제되었습니다"}},"type":"object","required":["id","original_filename"],"title":"FileDeleteResponse","description":"파일 삭제 응답 스키마"},"FileResponse":{"properties":{"id":{"type":"integer","title":"Id"},"original_filename":{"type":"string","title":"Original Filename"},"stored_filename":{"type":"string","title":"Stored Filename"},"file_path":{"type":"string","title":"File Path"},"file_size":{"type":"integer","title":"File Size"},"mime_type":{"type":"string","title":"Mime Type"},"file_extension":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Extension"},"uploader_id":{"type":"integer","title":"Uploader Id"},"upload_ip":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Upload Ip"},"download_count":{"type":"integer","title":"Download Count"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"is_deleted":{"type":"boolean","title":"Is Deleted"},"is_public":{"type":"boolean","title":"Is Public"},"uploader_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uploader Username"},"uploader_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uploader Email"}},"type":"object","required":["id","original_filename","stored_filename","file_path","file_size","mime_type","uploader_id","download_count","created_at","is_deleted","is_public"],"title":"FileResponse","description":"파일 응답 스키마"},"FileUploadResponse":{"properties":{"id":{"type":"integer","title":"Id"},"original_filename":{"type":"string","title":"Original Filename"},"stored_filename":{"type":"string","title":"Stored Filename"},"file_size":{"type":"integer","title":"File Size"},"mime_type":{"type":"string","title":"Mime Type"},"file_extension":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Extension"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"is_temp":{"type":"boolean","title":"Is Temp","default":true},"message":{"type":"string","title":"Message","default":"파일이 성공적으로 업로드되었습니다"}},"type":"object","required":["id","original_filename","stored_filename","file_size","mime_type","created_at"],"title":"FileUploadResponse","description":"파일 업로드 응답 스키마"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LoginRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email","description":"이메일"},"password":{"type":"string","minLength":8,"title":"Password","description":"비밀번호"}},"type":"object","required":["email","password"],"title":"LoginRequest","description":"로그인 요청 스키마"},"LoginResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"},"user":{"additionalProperties":true,"type":"object","title":"User"}},"type":"object","required":["access_token","user"],"title":"LoginResponse","description":"로그인 응답 스키마"},"PostAttachmentResponse":{"properties":{"id":{"type":"integer","title":"Id"},"post_id":{"type":"integer","title":"Post Id"},"file_id":{"type":"integer","title":"File Id"},"display_order":{"type":"integer","title":"Display Order"},"is_thumbnail":{"type":"boolean","title":"Is Thumbnail"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"file":{"anyOf":[{"$ref":"#/components/schemas/FileResponse"},{"type":"null"}]}},"type":"object","required":["id","post_id","file_id","display_order","is_thumbnail","created_at"],"title":"PostAttachmentResponse","description":"게시글 첨부파일 응답 스키마"},"PostCreate":{"properties":{"title":{"type":"string","maxLength":200,"minLength":1,"title":"Title","description":"게시글 제목"},"content":{"type":"string","minLength":1,"title":"Content","description":"게시글 내용"},"is_pinned":{"type":"boolean","title":"Is Pinned","description":"고정 게시글 여부 (관리자 전용)","default":false}},"type":"object","required":["title","content"],"title":"PostCreate","description":"게시글 생성 요청 스키마"},"PostCreateResponse":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"content":{"type":"string","title":"Content"},"author_id":{"type":"integer","title":"Author Id"},"view_count":{"type":"integer","title":"View Count"},"like_count":{"type":"integer","title":"Like Count"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"is_pinned":{"type":"boolean","title":"Is Pinned"},"message":{"type":"string","title":"Message","default":"게시글이 성공적으로 작성되었습니다"}},"type":"object","required":["id","title","content","author_id","view_count","like_count","created_at","is_pinned"],"title":"PostCreateResponse","description":"게시글 생성 응답 스키마"},"PostDeleteResponse":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"message":{"type":"string","title":"Message","default":"게시글이 성공적으로 삭제되었습니다"}},"type":"object","required":["id","title"],"title":"PostDeleteResponse","description":"게시글 삭제 응답 스키마"},"PostLikeResponse":{"properties":{"id":{"type":"integer","title":"Id"},"like_count":{"type":"integer","title":"Like Count"},"message":{"type":"string","title":"Message","default":"좋아요가 반영되었습니다"}},"type":"object","required":["id","like_count"],"title":"PostLikeResponse","description":"좋아요 응답 스키마"},"PostListResponse":{"properties":{"posts":{"items":{"$ref":"#/components/schemas/PostResponse"},"type":"array","title":"Posts","description":"게시글 목록"},"total":{"type":"integer","title":"Total","description":"전체 게시글 수"},"page":{"type":"integer","title":"Page","description":"현재 페이지"},"page_size":{"type":"integer","title":"Page Size","description":"페이지 크기"},"total_pages":{"type":"integer","title":"Total Pages","description":"전체 페이지 수"}},"type":"object","required":["posts","total","page","page_size","total_pages"],"title":"PostListResponse","description":"게시글 목록 응답 스키마"},"PostResponse":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"content":{"type":"string","title":"Content"},"author_id":{"type":"integer","title":"Author Id"},"view_count":{"type":"integer","title":"View Count"},"like_count":{"type":"integer","title":"Like Count"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"is_deleted":{"type":"boolean","title":"Is Deleted"},"is_pinned":{"type":"boolean","title":"Is Pinned"},"is_locked":{"type":"boolean","title":"Is Locked"},"author_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author Username"},"author_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author Email"}},"type":"object","required":["id","title","content","author_id","view_count","like_count","created_at","is_deleted","is_pinned","is_locked"],"title":"PostResponse","description":"게시글 응답 스키마"},"PostRestoreResponse":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"message":{"type":"string","title":"Message","default":"게시글이 성공적으로 복구되었습니다"}},"type":"object","required":["id","title"],"title":"PostRestoreResponse","description":"게시글 복구 응답 스키마"},"PostToggleLockResponse":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"is_locked":{"type":"boolean","title":"Is Locked"},"message":{"type":"string","title":"Message","default":"게시글 잠금 상태가 변경되었습니다"}},"type":"object","required":["id","title","is_locked"],"title":"PostToggleLockResponse","description":"게시글 잠금/해제 응답 스키마"},"PostTogglePinResponse":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"is_pinned":{"type":"boolean","title":"Is Pinned"},"message":{"type":"string","title":"Message","default":"게시글 고정 상태가 변경되었습니다"}},"type":"object","required":["id","title","is_pinned"],"title":"PostTogglePinResponse","description":"게시글 고정/해제 응답 스키마"},"PostUpdate":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Title","description":"게시글 제목"},"content":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Content","description":"게시글 내용"},"is_pinned":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Pinned","description":"고정 게시글 여부 (관리자 전용)"},"is_locked":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Locked","description":"게시글 잠금 여부 (관리자 전용)"}},"type":"object","title":"PostUpdate","description":"게시글 수정 요청 스키마"},"PostUpdateResponse":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"content":{"type":"string","title":"Content"},"author_id":{"type":"integer","title":"Author Id"},"view_count":{"type":"integer","title":"View Count"},"like_count":{"type":"integer","title":"Like Count"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"is_pinned":{"type":"boolean","title":"Is Pinned"},"is_locked":{"type":"boolean","title":"Is Locked"},"message":{"type":"string","title":"Message","default":"게시글이 성공적으로 수정되었습니다"}},"type":"object","required":["id","title","content","author_id","view_count","like_count","updated_at","is_pinned","is_locked"],"title":"PostUpdateResponse","description":"게시글 수정 응답 스키마"},"UserCreate":{"properties":{"email":{"type":"string","format":"email","title":"Email","description":"이메일 주소"},"username":{"type":"string","maxLength":50,"minLength":3,"title":"Username","description":"사용자명"},"password":{"type":"string","maxLength":100,"minLength":8,"title":"Password","description":"비밀번호"},"is_admin":{"type":"boolean","title":"Is Admin","description":"관리자 여부","default":false}},"type":"object","required":["email","username","password"],"title":"UserCreate","description":"사용자 생성 요청 스키마"},"UserCreateResponse":{"properties":{"id":{"type":"integer","title":"Id"},"email":{"type":"string","title":"Email"},"username":{"type":"string","title":"Username"},"is_active":{"type":"boolean","title":"Is Active"},"is_admin":{"type":"boolean","title":"Is Admin"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"message":{"type":"string","title":"Message","default":"사용자가 성공적으로 생성되었습니다"}},"type":"object","required":["id","email","username","is_active","is_admin","created_at"],"title":"UserCreateResponse","description":"사용자 생성 응답 스키마"},"UserDeleteResponse":{"properties":{"id":{"type":"integer","title":"Id"},"username":{"type":"string","title":"Username"},"email":{"type":"string","title":"Email"},"message":{"type":"string","title":"Message","default":"사용자가 성공적으로 삭제되었습니다"}},"type":"object","required":["id","username","email"],"title":"UserDeleteResponse","description":"사용자 삭제 응답 스키마 (Hard Delete)"},"UserListResponse":{"properties":{"users":{"items":{"$ref":"#/components/schemas/UserResponse"},"type":"array","title":"Users","description":"사용자 목록"},"total":{"type":"integer","title":"Total","description":"전체 사용자 수"},"page":{"type":"integer","title":"Page","description":"현재 페이지"},"page_size":{"type":"integer","title":"Page Size","description":"페이지 크기"},"total_pages":{"type":"integer","title":"Total Pages","description":"전체 페이지 수"}},"type":"object","required":["users","total","page","page_size","total_pages"],"title":"UserListResponse","description":"사용자 목록 응답 스키마"},"UserResponse":{"properties":{"id":{"type":"integer","title":"Id"},"email":{"type":"string","title":"Email"},"username":{"type":"string","title":"Username"},"is_active":{"type":"boolean","title":"Is Active"},"is_admin":{"type":"boolean","title":"Is Admin"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"last_login_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Login At"}},"type":"object","required":["id","email","username","is_active","is_admin","created_at"],"title":"UserResponse","description":"사용자 응답 스키마"},"UserSoftDeleteResponse":{"properties":{"id":{"type":"integer","title":"Id"},"username":{"type":"string","title":"Username"},"email":{"type":"string","title":"Email"},"is_active":{"type":"boolean","title":"Is Active"},"message":{"type":"string","title":"Message","default":"사용자가 비활성화되었습니다"}},"type":"object","required":["id","username","email","is_active"],"title":"UserSoftDeleteResponse","description":"사용자 비활성화 응답 스키마 (Soft Delete)"},"UserUpdate":{"properties":{"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email","description":"이메일 주소"},"username":{"anyOf":[{"type":"string","maxLength":50,"minLength":3},{"type":"null"}],"title":"Username","description":"사용자명"},"password":{"anyOf":[{"type":"string","maxLength":100,"minLength":8},{"type":"null"}],"title":"Password","description":"새 비밀번호"},"is_admin":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Admin","description":"관리자 여부"}},"type":"object","title":"UserUpdate","description":"사용자 수정 요청 스키마"},"UserUpdateResponse":{"properties":{"id":{"type":"integer","title":"Id"},"email":{"type":"string","title":"Email"},"username":{"type":"string","title":"Username"},"is_active":{"type":"boolean","title":"Is Active"},"is_admin":{"type":"boolean","title":"Is Admin"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"message":{"type":"string","title":"Message","default":"사용자 정보가 성공적으로 수정되었습니다"}},"type":"object","required":["id","email","username","is_active","is_admin","updated_at"],"title":"UserUpdateResponse","description":"사용자 수정 응답 스키마"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}